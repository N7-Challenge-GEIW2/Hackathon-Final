import{nanoid as y}from"nanoid";var g=globalThis.browser?.tabs||globalThis.chrome?.tabs,s=()=>{let e=globalThis.browser?.runtime||globalThis.chrome?.runtime;if(!e)throw new Error("Extension runtime is not available");return e};var h=e=>{let r=async(a,t,n)=>{await e?.({...a,sender:t},{send:i=>n(i)})},o=(a,t,n)=>(r(a,t,n),!0);return s().onMessage.addListener(o),()=>{s().onMessage.removeListener(o)}};export{h as listen};
