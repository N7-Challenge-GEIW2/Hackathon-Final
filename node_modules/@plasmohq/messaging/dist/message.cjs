var i=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var l=Object.getOwnPropertyNames;var m=Object.prototype.hasOwnProperty;var y=(e,s)=>{for(var t in s)i(e,t,{get:s[t],enumerable:!0})},c=(e,s,t,n)=>{if(s&&typeof s=="object"||typeof s=="function")for(let a of l(s))!m.call(e,a)&&a!==t&&i(e,a,{get:()=>s[a],enumerable:!(n=d(s,a))||n.enumerable});return e};var p=e=>c(i({},"__esModule",{value:!0}),e);var u={};y(u,{listen:()=>b});module.exports=p(u);var M=require("nanoid");var R=globalThis.browser?.tabs||globalThis.chrome?.tabs,o=()=>{let e=globalThis.browser?.runtime||globalThis.chrome?.runtime;if(!e)throw new Error("Extension runtime is not available");return e};var b=e=>{let s=async(n,a,r)=>{await e?.({...n,sender:a},{send:g=>r(g)})},t=(n,a,r)=>(s(n,a,r),!0);return o().onMessage.addListener(t),()=>{o().onMessage.removeListener(t)}};0&&(module.exports={listen});
